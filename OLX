package pages;

import org.openqa.selenium.WebDriver;

import uistore.Locators;
import utils.LoggerHandler;
import utils.WebDriverHelper;

public class PageRunner {
    WebDriverHelper helper;
    public PageRunner(WebDriver driver) {
        helper = new WebDriverHelper(driver);
    }  

    public void testcase(){

        LoggerHandler.initLog4j();
        LoggerHandler.logInfo("test1");
        helper.clickOnElement(Locators.motor);

        helper.javascriptScroll(Locators.inputfield);
        helper.jsClick(Locators.inputfield);
        helper.sendKeys(Locators.inputfield, "Enfield");
        helper.clickOnElement(Locators.enfield);
        helper.clickOnElement(Locators.inputfield);
    }
}





package pages;

import org.openqa.selenium.WebDriver;

import com.aventstack.extentreports.ExtentReports;
import com.aventstack.extentreports.ExtentTest;
import com.aventstack.extentreports.Status;

import uistore.Locators;
import utils.WebDriverHelper;

public class Pagesample {
    WebDriverHelper helper;
    ExtentTest test;
    
    public Pagesample(WebDriver driver,ExtentReports report) {
        helper = new WebDriverHelper(driver);
        test=report.createTest("abc");
    }   

    public void testcase1() throws InterruptedException {
        try {
            helper.clickOnElement(Locators.locationPopupAllow);
        } catch (Exception e) {
            System.out.println("Location popup not present or already handled");
        }
        helper.sendKeys(Locators.searchBox, "Houses");
        
        helper.clickOnElement(Locators.searchButton);
        
        Thread.sleep(4000);
        test.log(Status.INFO, "This is completed");

    }
}







package runner;

import java.io.IOException;
import java.net.MalformedURLException;

import org.testng.annotations.AfterMethod;
import org.testng.annotations.BeforeClass;
import org.testng.annotations.BeforeMethod;
import org.testng.annotations.Test;

import com.aventstack.extentreports.ExtentReports;

import pages.PageRunner;
import pages.Pagesample;
import utils.Base;
import utils.Reporter;
import utils.Screenshot;

public class TestRunner extends Base{

    Pagesample page;
    ExtentReports report;
    PageRunner pr;

    @BeforeClass
    public void genrpt(){
        report = Reporter.generateExtentReport("actions");
    }

    @BeforeMethod
    public void launchBrowser() throws MalformedURLException {
        openBrowser();
        page = new Pagesample(driver,report);
        pr = new PageRunner(driver);
    }

    @Test
    public void testOne() throws InterruptedException {
        page.testcase1();
    }
    @Test
    public void testTwo() throws IOException {
        pr.testcase();
        Screenshot.getScreenShot(driver, "screenshot/myscreenshot.png");
    }
    
    @AfterMethod
    public void tearDown() {
        if(driver!=null){
            driver.quit();
        }
    }
}




package uistore;

import org.openqa.selenium.By;

public class Locators {
    public static By locationPopupAllow = By.xpath("//button[contains(text(),'Allow while visiting the site')]"); 
    public static By searchBox = By.xpath("//input[@type = 'text']");
    public static By searchButton = By.xpath("//div[@class = '_3jHVg']/span"); 
    public static By resultsText = By.xpath("(//*[contains(text(),'Houses in India')])[3]"); 
    public static By motor = By.xpath("(//span[text() = 'Motorcycles'])[1]");
    public static By inputfield = By.xpath("(//input[@type = 'text'])[2]");
    public static By enfield = By.xpath("//label[@title = 'Royal Enfield']");
}
